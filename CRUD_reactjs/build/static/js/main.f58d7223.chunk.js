(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{52:function(e,t,c){},53:function(e,t,c){},56:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(10),s=c(44),r=c.n(s),a=(c(52),c(11)),i=c(0),j=c(1),o=(c(53),c(27)),b=c(45),u=c(15),l=c(30),d=Object(b.a)({apiKey:"AIzaSyCKsOKGEb-DqF8Rr6WEy0df3oUIqYG1hhE",authDomain:"bru-crud.firebaseapp.com",projectId:"bru-crud",storageBucket:"bru-crud.appspot.com",messagingSenderId:"55102741954",appId:"1:55102741954:web:a3cbb4b050c8dbf8030a5b"}),O=new o.a,p=Object(o.b)(),x=Object(l.b)(d),h=Object(u.e)(d),f=function(){var e=Object(j.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.c)(p,O).then((function(e){t=e.user})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=c(6),v=Object(n.createContext)(),g=function(e){var t=Object(n.useState)(null),c=Object(a.a)(t,2),s=c[0],r=c[1];return Object(m.jsx)(v.Provider,{value:{user:[s,r]},children:e.children})},y=function(){var e=Object(a.a)(Object(n.useContext)(v).user,2),t=(e[0],e[1]),c=function(){var e=Object(j.a)(Object(i.a)().mark((function e(){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:(c=e.sent)&&t(c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{id:"btn",onClick:c,children:"Sign in with Google"})},N=c(14),w=c(33),k=(c(56),function(){var e=Object(a.a)(Object(n.useContext)(v).user,2),t=e[0],c=(e[1],Object(n.useState)(!1)),s=Object(a.a)(c,2),r=s[0],i=s[1],j=Object(N.f)();return Object(m.jsxs)("nav",{id:"navbar",children:[Object(m.jsx)(w.b,{to:"/",children:Object(m.jsx)("h3",{children:"CRUD"})}),t?Object(m.jsxs)("div",{className:"nav-user",children:[Object(m.jsx)("img",{src:"https://static.thenounproject.com/png/4314581-200.png",alt:""}),Object(m.jsxs)("div",{className:"drop-down",onClick:function(){i(!r)},children:[Object(m.jsx)("i",{className:"fas fa-sort-down"}),Object(m.jsxs)("div",{className:r?"drop-down-menu active":"drop-down-menu",children:[Object(m.jsx)(w.b,{to:"/profile",children:Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("img",{src:"https://static.thenounproject.com/png/4314581-200.png",alt:""}),Object(m.jsx)("p",{children:t.displayName})]})}),Object(m.jsx)("hr",{}),Object(m.jsx)("p",{onClick:function(){j.push("/"),window.location.reload()},children:"Logout"})]})]})]}):Object(m.jsx)(y,{})]})}),C=(c(61),c(62),function(e){var t=e.type,c="skeleton ".concat(t);return Object(m.jsx)("div",{className:c})}),I=function(){return Object(m.jsxs)("div",{className:"skeleton-wrapper",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{children:Object(m.jsx)(C,{type:"avatar"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(C,{type:"title"}),Object(m.jsx)(C,{type:"title"})]})]}),Object(m.jsx)(C,{type:"image"}),Object(m.jsx)(C,{type:"text"}),Object(m.jsx)(C,{type:"text"}),Object(m.jsx)(C,{type:"text"})]})},S=(c(63),function(){var e=Object(a.a)(Object(n.useContext)(v).user,2),t=e[0],c=(e[1],Object(n.useState)([])),s=Object(a.a)(c,2),r=s[0],o=s[1],b=Object(u.f)(Object(u.a)(h,"posts")),l=function(){var e=Object(j.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)(Object(u.c)(h,"posts",t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){setTimeout(Object(j.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(b);case 2:t=e.sent,o(t.docs.map((function(e){return{id:e.id,post:e.data()}})));case 4:case"end":return e.stop()}}),e)}))),2e3)}),[b]),Object(m.jsxs)("div",{children:[0==r.length&&Object(m.jsxs)(m.Fragment,{children:[" ",Object(m.jsx)(I,{})," ",Object(m.jsx)(I,{})," "]}),r.length>1&&r.map((function(e){var c=e.id,n=e.post;return Object(m.jsxs)("div",{className:"post",children:[Object(m.jsxs)("div",{className:"post-header",children:[Object(m.jsx)("img",{src:"https://static.thenounproject.com/png/4314581-200.png",alt:"profileUrl"}),Object(m.jsx)("h3",{className:"username",children:n.username}),t&&t.displayName===n.username&&Object(m.jsx)("button",{className:"delete-post",onClick:function(){return l(c)},children:"Delete"})]}),Object(m.jsx)("div",{className:"post-image",children:Object(m.jsx)("img",{src:n.photoUrl,alt:n.username})}),Object(m.jsxs)("div",{className:"post-caption",children:[Object(m.jsx)("span",{children:n.username}),Object(m.jsx)("p",{children:n.post})]})]},c)}))]})}),U=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],s=t[1],r=Object(u.f)(Object(u.a)(h,"posts"));return Object(n.useEffect)(Object(j.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(r);case 2:t=e.sent,s(t.docs.map((function(e){return{id:e.id,post:e.data()}})));case 4:case"end":return e.stop()}}),e)}))),[r]),Object(m.jsx)("div",{className:"posts",children:c.length>0?Object(m.jsx)(S,{}):Object(m.jsxs)("div",{className:"posts",children:[" ",Object(m.jsx)("p",{children:"No posts ..."})," "]})})},E=(c(64),function(){var e=Object(a.a)(Object(n.useContext)(v).user,2),t=e[0],c=(e[1],Object(n.useState)("")),s=Object(a.a)(c,2),r=s[0],o=s[1],b=Object(n.useState)(null),d=Object(a.a)(b,2),O=d[0],p=d[1],f=Object(n.useState)(null),g=Object(a.a)(f,2),y=g[0],N=g[1];return Object(m.jsxs)("div",{className:"create-post",children:[Object(m.jsx)("p",{children:Object(m.jsx)("img",{src:"https://static.thenounproject.com/png/4314581-200.png",alt:"",className:"create-post-user-image"})}),Object(m.jsx)("textarea",{placeholder:"Post here?",value:r,onChange:function(e){return o(e.target.value)}}),Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{alt:"img",id:"Image-Preview"})}),Object(m.jsxs)("div",{className:"actions",children:[Object(m.jsx)("label",{required:!0,htmlFor:"addImage",style:{cursor:"pointer"},children:Object(m.jsx)("i",{className:"fas fa-camera"})}),Object(m.jsx)("input",{type:"file",id:"addImage",accept:"image/*",style:{display:"none"},onChange:function(e){if(e.target.files[0]){p(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]),c=document.getElementById("Image-Preview");c.src=t,c.style.display="block",c.style.width="100px",c.style.height="100px",c.style.padding="10px"}}}),Object(m.jsx)("button",{onClick:function(){if(O){var e=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",c="",n=0;n<e;n++)c+=t[Math.floor(Math.random()*t.length)];return c}(10),c=Object(l.c)(x,"images/".concat(e,".jpg"));Object(l.d)(c,O,{contentType:"image/jpeg"}).on("state_complete",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);(N(t),console.log("Upload is "+t+"% done"),100==t)&&(o(""),N(0),document.getElementById("Image-Preview").style.display="none")}),(function(e){console.log(e)}),(function(){Object(l.a)(c).then(function(){var c=Object(j.a)(Object(i.a)().mark((function c(n){return Object(i.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(u.g)(Object(u.c)(h,"posts",e),{post:r,profileUrl:t.photoURL,username:t.displayName,photoUrl:n});case 3:c.next=8;break;case 5:c.prev=5,c.t0=c.catch(0),console.error("Error adding document: ",c.t0);case 8:case"end":return c.stop()}}),c,null,[[0,5]])})));return function(e){return c.apply(this,arguments)}}())}))}},style:{color:r||O||y>1?"black":"#999"},children:"Post ".concat(y>1?y+"%":"")})]})]})}),P=(c(65),function(){var e=Object(a.a)(Object(n.useContext)(v).user,2),t=e[0];e[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{id:"override-bootstrap",className:"page",style:{textAlign:"center",paddingTop:"20px"},children:[t?Object(m.jsx)(E,{}):Object(m.jsxs)("div",{className:"sign-in",style:{width:"90%",margin:"0 auto"},children:[Object(m.jsx)(y,{}),Object(m.jsx)("p",{style:{marginLeft:"5px"},children:"To Post & Comment"})]}),Object(m.jsx)(U,{})]})})}),L=(c(66),function(){var e=Object(a.a)(Object(n.useContext)(v).user,2),t=e[0],c=(e[1],Object(n.useState)([])),s=Object(a.a)(c,2),r=s[0],o=s[1],b=Object(u.f)(Object(u.a)(h,"posts")),l=0;return Object(n.useEffect)(Object(j.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(b);case 2:t=e.sent,o(t.docs.map((function(e){return{id:e.id,post:e.data()}})));case 4:case"end":return e.stop()}}),e)}))),[b]),t&&r&&r.filter((function(e){e.id;if(e.post.username===t.displayName)return l+=1})),Object(m.jsx)("div",{className:"profile",children:t&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{className:"profile-img",src:t.photoURL,alt:""}),Object(m.jsx)("div",{className:"name",children:Object(m.jsx)("h1",{children:t.displayName})}),Object(m.jsx)("p",{children:t.email}),Object(m.jsxs)("div",{className:"num-of-posts",children:[Object(m.jsx)("span",{children:"Number of Posts"})," ",Object(m.jsx)("p",{className:"counter",children:l})]})]})})}),R=function(){return Object(m.jsxs)(w.a,{children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{children:Object(m.jsxs)(N.c,{children:[Object(m.jsx)(N.a,{exact:!0,path:"/",children:Object(m.jsx)(P,{})}),Object(m.jsx)(N.a,{path:"/profile",children:Object(m.jsx)(L,{})})]})})]})};var B=function(){return Object(m.jsx)(g,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(R,{})})})};r.a.render(Object(m.jsx)(B,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.f58d7223.chunk.js.map